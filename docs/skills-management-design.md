# Skills ç®¡ç†ç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆ

## æ¦‚è¿°

åŸºäº Git çš„ Skills åŒ…ç®¡ç†ç³»ç»Ÿï¼Œç±»ä¼¼ npm/Go modules çš„æ¶æ„ï¼Œå®ç° AI Skills çš„ç‰ˆæœ¬åŒ–ç®¡ç†ã€å…±äº«å’Œå¤ç”¨ã€‚

## æ ¸å¿ƒç†å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è®¾è®¡åŸåˆ™                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Git å³ Registry - æ— éœ€é¢å¤–æœåŠ¡ï¼Œgit ä»“åº“å°±æ˜¯ skill å­˜å‚¨æº     â”‚
â”‚  2. å£°æ˜å¼é…ç½® - skills.json æ¸…æ™°è¡¨è¾¾é¡¹ç›®ä¾èµ–                     â”‚
â”‚  3. ç‰ˆæœ¬é”å®š - æ”¯æŒç²¾ç¡®ç‰ˆæœ¬ã€èŒƒå›´ç‰ˆæœ¬ã€latest                     â”‚
â”‚  4. é›¶ä¾µå…¥ - ä¸ä¿®æ”¹åŸæœ‰é¡¹ç›®ç»“æ„ï¼Œskills ç‹¬ç«‹ç®¡ç†                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸€ã€æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Skills ç”Ÿæ€ç³»ç»Ÿ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚   GitHub    â”‚     â”‚   GitLab    â”‚     â”‚   Gitee     â”‚           â”‚
â”‚   â”‚   Skills    â”‚     â”‚   Skills    â”‚     â”‚   Skills    â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚          â”‚                   â”‚                   â”‚                   â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                              â”‚                                       â”‚
â”‚                              â–¼                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                    â”‚   Skills CLI    â”‚                              â”‚
â”‚                    â”‚  (skills å‘½ä»¤)   â”‚                              â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                             â”‚                                        â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â–¼              â–¼              â–¼                        â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚      â”‚   install   â”‚ â”‚   update    â”‚ â”‚   publish   â”‚               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                             â”‚                                        â”‚
â”‚                             â–¼                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                      é¡¹ç›®ç›®å½•                                  â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ skills.json          # ä¾èµ–å£°æ˜                          â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ skills.lock          # ç‰ˆæœ¬é”å®š                          â”‚  â”‚
â”‚   â”‚  â””â”€â”€ .skills/             # å®‰è£…ç›®å½•                          â”‚  â”‚
â”‚   â”‚      â”œâ”€â”€ planning-with-files/                                 â”‚  â”‚
â”‚   â”‚      â”œâ”€â”€ code-review/                                         â”‚  â”‚
â”‚   â”‚      â””â”€â”€ web-builder/                                         â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€skills.json è§„èŒƒ

### 2.1 å®Œæ•´ Schema

```json
{
  "$schema": "https://cortex.zhenguanyu.com/schemas/skills.json",
  "name": "cortex-agent",
  "version": "1.0.0",
  "description": "Cortex Agent Skills Configuration",
  
  "skills": {
    "planning-with-files": "github:OthmanAdi/planning-with-files@v1.0.0",
    "code-review": "gitlab:cortex/skills/code-review@latest",
    "web-builder": "gitlab:cortex/skills/web-builder@^2.0.0",
    "internal-deploy": "gitlab-ee.zhenguanyu.com:cortex/skills/deploy@v1.2.3"
  },
  
  "registries": {
    "github": "https://github.com",
    "gitlab": "https://gitlab.com",
    "internal": "https://gitlab-ee.zhenguanyu.com"
  },
  
  "defaults": {
    "registry": "gitlab",
    "installDir": ".skills"
  },
  
  "overrides": {
    "planning-with-files": {
      "enabled": true,
      "config": {
        "plansDir": ".cursor/plans"
      }
    }
  }
}
```

### 2.2 ç‰ˆæœ¬è§„èŒƒ

| æ ¼å¼ | ç¤ºä¾‹ | è¯´æ˜ |
|-----|------|------|
| ç²¾ç¡®ç‰ˆæœ¬ | `@v1.0.0` | é”å®šåˆ°æŒ‡å®š tag |
| æœ€æ–°ç‰ˆæœ¬ | `@latest` | è·å–æœ€æ–° tag |
| èŒƒå›´ç‰ˆæœ¬ | `@^2.0.0` | semver å…¼å®¹ï¼ˆ>=2.0.0 <3.0.0ï¼‰ |
| åˆ†æ”¯ | `@branch:develop` | æŒ‡å®šåˆ†æ”¯ |
| Commit | `@commit:abc1234` | æŒ‡å®š commit hash |
| æ— ç‰ˆæœ¬ | æ—  `@` | é»˜è®¤ä½¿ç”¨ main/master åˆ†æ”¯ |

### 2.3 ä»“åº“å¼•ç”¨æ ¼å¼

```
å®Œæ•´æ ¼å¼: <registry>:<owner>/<repo>@<version>
ç®€å†™æ ¼å¼: <owner>/<repo>@<version>  (ä½¿ç”¨é»˜è®¤ registry)

ç¤ºä¾‹:
  github:user/skill@v1.0.0           â†’ https://github.com/user/skill
  gitlab:group/skill@latest          â†’ https://gitlab.com/group/skill
  gitlab-ee.zhenguanyu.com:ns/skill  â†’ https://gitlab-ee.zhenguanyu.com/ns/skill
  user/skill@v1.0.0                  â†’ ä½¿ç”¨ defaults.registry
```

---

## ä¸‰ã€skills.lock è§„èŒƒ

ç”¨äºé”å®šç²¾ç¡®ç‰ˆæœ¬ï¼Œç¡®ä¿å›¢é˜Ÿä¸€è‡´æ€§ï¼š

```json
{
  "lockfileVersion": 1,
  "skills": {
    "planning-with-files": {
      "source": "github:OthmanAdi/planning-with-files",
      "version": "v1.0.0",
      "resolved": "https://github.com/OthmanAdi/planning-with-files",
      "commit": "abc1234def5678901234567890abcdef12345678",
      "installedAt": "2025-01-21T10:30:00Z"
    },
    "code-review": {
      "source": "gitlab:cortex/skills/code-review",
      "version": "v2.1.0",
      "resolved": "https://gitlab.com/cortex/skills/code-review",
      "commit": "def5678abc1234567890abcdef1234567890abcd",
      "installedAt": "2025-01-21T10:30:00Z"
    }
  }
}
```

---

## å››ã€Skill ä»“åº“ç»“æ„è§„èŒƒ

æ¯ä¸ª Skill ä»“åº“åº”éµå¾ªä»¥ä¸‹ç»“æ„ï¼š

```
skill-name/
â”œâ”€â”€ skill.json              # Skill å…ƒæ•°æ®ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ SKILL.md                # ä¸»å…¥å£æ–‡æ¡£ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ README.md               # ä»“åº“è¯´æ˜
â”œâ”€â”€ reference.md            # è¯¦ç»†å‚è€ƒæ–‡æ¡£ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ examples.md             # ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ templates/              # æ¨¡æ¿æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ template1.md
â”‚   â””â”€â”€ template2.md
â””â”€â”€ assets/                 # é™æ€èµ„æºï¼ˆå¯é€‰ï¼‰
    â””â”€â”€ ...
```

### 4.1 skill.json è§„èŒƒ

```json
{
  "name": "planning-with-files",
  "version": "1.0.0",
  "description": "A skill for planning tasks using markdown files",
  "author": "OthmanAdi",
  "license": "MIT",
  
  "entry": "SKILL.md",
  
  "files": [
    "SKILL.md",
    "reference.md",
    "examples.md",
    "templates/"
  ],
  
  "keywords": ["planning", "task-management", "markdown"],
  
  "repository": {
    "type": "git",
    "url": "https://github.com/OthmanAdi/planning-with-files"
  },
  
  "config": {
    "plansDir": {
      "type": "string",
      "default": ".plans",
      "description": "Directory for plan files"
    }
  },
  
  "compatibility": {
    "claude": ">=3.5",
    "cursor": ">=0.40"
  }
}
```

---

## äº”ã€CLI å‘½ä»¤è®¾è®¡

### 5.1 å‘½ä»¤æ¦‚è§ˆ

```bash
# åˆå§‹åŒ–
skills init                    # åˆ›å»º skills.json

# å®‰è£…ç®¡ç†
skills install                 # å®‰è£… skills.json ä¸­çš„æ‰€æœ‰ skills
skills install <skill>         # å®‰è£…å•ä¸ª skill
skills install <skill>@<ver>   # å®‰è£…æŒ‡å®šç‰ˆæœ¬
skills uninstall <skill>       # å¸è½½ skill

# æ›´æ–°ç®¡ç†
skills update                  # æ›´æ–°æ‰€æœ‰ skills
skills update <skill>          # æ›´æ–°å•ä¸ª skill
skills outdated                # æ£€æŸ¥è¿‡æœŸ skills

# ä¿¡æ¯æŸ¥è¯¢
skills list                    # åˆ—å‡ºå·²å®‰è£… skills
skills info <skill>            # æŸ¥çœ‹ skill è¯¦æƒ…
skills search <keyword>        # æœç´¢ skillsï¼ˆéœ€è¦ç´¢å¼•æœåŠ¡ï¼Œå¯é€‰ï¼‰

# å‘å¸ƒï¼ˆå¯é€‰ï¼‰
skills publish                 # å‘å¸ƒ skillï¼ˆæ‰“ tag + pushï¼‰
```

### 5.2 å‘½ä»¤è¯¦ç»†è®¾è®¡

#### `skills init`

```bash
$ skills init

? Skill configuration name: cortex-agent
? Default registry: gitlab-ee.zhenguanyu.com
? Install directory: .skills

Created skills.json
```

ç”Ÿæˆçš„ `skills.json`:

```json
{
  "name": "cortex-agent",
  "skills": {},
  "defaults": {
    "registry": "gitlab-ee.zhenguanyu.com",
    "installDir": ".skills"
  }
}
```

#### `skills install`

```bash
$ skills install github:OthmanAdi/planning-with-files@v1.0.0

ğŸ“¦ Installing planning-with-files@v1.0.0...
   Cloning from https://github.com/OthmanAdi/planning-with-files
   Checking out tag v1.0.0
   Commit: abc1234
âœ… Installed planning-with-files@v1.0.0 to .skills/planning-with-files

Updated skills.json
Updated skills.lock
```

#### `skills update`

```bash
$ skills update

ğŸ“¦ Checking for updates...

  Skill                  Current   Latest    Status
  planning-with-files    v1.0.0    v1.2.0    â¬†ï¸ Update available
  code-review            v2.1.0    v2.1.0    âœ… Up to date
  web-builder            v3.0.0    v3.1.0    â¬†ï¸ Update available

? Update all skills? (Y/n) y

ğŸ“¦ Updating planning-with-files v1.0.0 â†’ v1.2.0...
âœ… Updated planning-with-files to v1.2.0

ğŸ“¦ Updating web-builder v3.0.0 â†’ v3.1.0...
âœ… Updated web-builder to v3.1.0

Updated skills.lock
```

#### `skills list`

```bash
$ skills list

Installed Skills (.skills/):

  Name                   Version   Source                                    
  planning-with-files    v1.0.0    github:OthmanAdi/planning-with-files      
  code-review            v2.1.0    gitlab:cortex/skills/code-review          
  web-builder            v3.0.0    gitlab:cortex/skills/web-builder          

Total: 3 skills
```

---

## å…­ã€å·¥ä½œæµç¨‹

### 6.1 å®‰è£…æµç¨‹

```
skills install <skill>@<version>
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è§£æ skill å¼•ç”¨       â”‚
â”‚  - registry           â”‚
â”‚  - owner/repo         â”‚
â”‚  - version            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ£€æŸ¥æœ¬åœ°ç¼“å­˜          â”‚
â”‚  ~/.skills-cache/     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
     â”‚ ç¼“å­˜å­˜åœ¨ï¼Ÿ   â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       Yes  â”‚  No
       â–¼    â”‚  â–¼
  ä½¿ç”¨ç¼“å­˜   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  â”‚  git clone --depth 1  â”‚
            â”‚  â”‚  (shallow clone)      â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚              â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  git checkout <tag>   â”‚
              â”‚  æˆ– git fetch --tags  â”‚
              â”‚  è·å–æŒ‡å®šç‰ˆæœ¬          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  å¤åˆ¶åˆ° .skills/      â”‚
              â”‚  (æ’é™¤ .git ç›®å½•)     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  æ›´æ–° skills.json     â”‚
              â”‚  æ›´æ–° skills.lock     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ç‰ˆæœ¬è§£ææµç¨‹

```
@latest
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  git ls-remote --tags <repo>        â”‚
â”‚  è·å–æ‰€æœ‰ tags                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿‡æ»¤ semver æ ¼å¼ tags              â”‚
â”‚  v1.0.0, v1.1.0, v2.0.0...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ’åºï¼Œå–æœ€æ–°ç‰ˆæœ¬                    â”‚
â”‚  è¿”å› v2.0.0                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 Skill åŠ è½½æµç¨‹ï¼ˆè¿è¡Œæ—¶ï¼‰

```
Agent å¯åŠ¨
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯»å– skills.json                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰«æ .skills/ ç›®å½•                  â”‚
â”‚  éªŒè¯å·²å®‰è£… skills                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯»å–æ¯ä¸ª skill çš„ SKILL.md         â”‚
â”‚  è§£æä¸º system prompt ç‰‡æ®µ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆå¹¶åˆ° Agent System Prompt         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸ƒã€ç›®å½•ç»“æ„

### 7.1 é¡¹ç›®ç›®å½•

```
my-project/
â”œâ”€â”€ skills.json              # Skill ä¾èµ–å£°æ˜
â”œâ”€â”€ skills.lock              # ç‰ˆæœ¬é”å®šæ–‡ä»¶
â”œâ”€â”€ .skills/                 # å®‰è£…ç›®å½•ï¼ˆåŠ å…¥ .gitignoreï¼‰
â”‚   â”œâ”€â”€ planning-with-files/
â”‚   â”‚   â”œâ”€â”€ skill.json
â”‚   â”‚   â”œâ”€â”€ SKILL.md
â”‚   â”‚   â”œâ”€â”€ reference.md
â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”œâ”€â”€ code-review/
â”‚   â”‚   â”œâ”€â”€ skill.json
â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â””â”€â”€ web-builder/
â”‚       â”œâ”€â”€ skill.json
â”‚       â””â”€â”€ SKILL.md
â””â”€â”€ ... (å…¶ä»–é¡¹ç›®æ–‡ä»¶)
```

### 7.2 å…¨å±€ç¼“å­˜ç›®å½•

```
~/.skills-cache/
â”œâ”€â”€ github/
â”‚   â””â”€â”€ OthmanAdi/
â”‚       â””â”€â”€ planning-with-files/
â”‚           â”œâ”€â”€ v1.0.0/
â”‚           â”œâ”€â”€ v1.1.0/
â”‚           â””â”€â”€ v1.2.0/
â””â”€â”€ gitlab-ee.zhenguanyu.com/
    â””â”€â”€ cortex/
        â””â”€â”€ skills/
            â””â”€â”€ code-review/
                â”œâ”€â”€ v2.0.0/
                â””â”€â”€ v2.1.0/
```

---

## å…«ã€ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ

### 8.1 Cursor é›†æˆ

Cursor é€šè¿‡ `.cursor/rules/` åŠ è½½è§„åˆ™ã€‚Skills å¯ä»¥ï¼š

1. **ç¬¦å·é“¾æ¥æ–¹å¼**ï¼š
```bash
# å®‰è£…åè‡ªåŠ¨åˆ›å»ºé“¾æ¥
ln -s .skills/planning-with-files/SKILL.md .cursor/rules/planning-with-files.md
```

2. **åˆå¹¶è¾“å‡ºæ–¹å¼**ï¼š
```bash
# skills å‘½ä»¤ç”Ÿæˆåˆå¹¶æ–‡ä»¶
skills build --output .cursor/rules/skills-combined.md
```

### 8.2 Claude Code é›†æˆ

Claude Code ä½¿ç”¨ `.claude/` ç›®å½•ï¼š

```bash
# æ–¹å¼ 1ï¼šç¬¦å·é“¾æ¥
ln -s ../.skills .claude/skills

# æ–¹å¼ 2ï¼šå¤åˆ¶
skills build --target claude --output .claude/skills/
```

### 8.3 Agent è¿è¡Œæ—¶é›†æˆ

```typescript
// apps/agent/lib/skills/skill-loader.ts

import { SkillManager } from './skill-manager';

export async function loadSkills(projectDir: string): Promise<Skill[]> {
  const manager = new SkillManager(projectDir);
  
  // è¯»å– skills.json
  const config = await manager.loadConfig();
  
  // æ‰«æ .skills/ ç›®å½•
  const installedSkills = await manager.scanInstalled();
  
  // éªŒè¯å¹¶åŠ è½½
  const skills: Skill[] = [];
  for (const [name, spec] of Object.entries(config.skills)) {
    const skill = installedSkills.get(name);
    if (skill) {
      skills.push(await manager.loadSkill(skill));
    } else {
      console.warn(`Skill ${name} not installed, run: skills install`);
    }
  }
  
  return skills;
}
```

---

## ä¹ã€å®ç°è®¡åˆ’

### Phase 1ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆMVPï¼‰

**ç›®æ ‡**ï¼šå®ç°åŸºæœ¬çš„ install/list åŠŸèƒ½

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„ä¼° |
|-----|-------|------|
| å®šä¹‰ skills.json schema | P0 | 1h |
| å®šä¹‰ skill.json schema | P0 | 1h |
| å®ç° `skills init` | P0 | 2h |
| å®ç° `skills install` | P0 | 4h |
| å®ç° `skills list` | P0 | 1h |
| å®ç°ç‰ˆæœ¬è§£æï¼ˆtag æŸ¥è¯¢ï¼‰ | P0 | 2h |

### Phase 2ï¼šå®Œæ•´ CLI

**ç›®æ ‡**ï¼šå®Œæ•´çš„åŒ…ç®¡ç†åŠŸèƒ½

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„ä¼° |
|-----|-------|------|
| å®ç° skills.lock | P1 | 2h |
| å®ç° `skills update` | P1 | 2h |
| å®ç° `skills uninstall` | P1 | 1h |
| å®ç° `skills outdated` | P1 | 2h |
| å®ç°å…¨å±€ç¼“å­˜ | P1 | 2h |

### Phase 3ï¼šè¿è¡Œæ—¶é›†æˆ

**ç›®æ ‡**ï¼šä¸ Agent é›†æˆ

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„ä¼° |
|-----|-------|------|
| Skill Loader å®ç° | P0 | 4h |
| System Prompt åˆå¹¶ | P0 | 2h |
| Cursor è§„åˆ™é›†æˆ | P1 | 2h |
| Claude Code é›†æˆ | P1 | 2h |

### Phase 4ï¼šé«˜çº§åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

| ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„ä¼° |
|-----|-------|------|
| `skills search`ï¼ˆéœ€ç´¢å¼•æœåŠ¡ï¼‰ | P3 | 8h |
| `skills publish` | P3 | 4h |
| ä¾èµ–å…³ç³»è§£æ | P3 | 8h |
| ç§æœ‰ä»“åº“è®¤è¯ | P2 | 4h |

---

## åã€FAQ

### Q: ä¸ºä»€ä¹ˆä¸ç”¨ npm/pnpmï¼Ÿ

A: Skills æ˜¯æ–‡æ¡£/é…ç½®ï¼Œä¸æ˜¯ä»£ç åŒ…ã€‚ä½¿ç”¨ä¸“ç”¨å·¥å…·å¯ä»¥ï¼š
- ç®€åŒ–å®‰è£…æµç¨‹ï¼ˆæ—  node_modulesï¼‰
- æ›´å¥½çš„ç‰ˆæœ¬è¯­ä¹‰ï¼ˆç›´æ¥ç”¨ git tagï¼‰
- æ›´è½»é‡ï¼ˆæ— ä¾èµ–æ ‘ï¼‰

### Q: å¦‚ä½•å¤„ç†ç§æœ‰ä»“åº“ï¼Ÿ

A: ä½¿ç”¨ git å‡­è¯ï¼š
```bash
# é…ç½® git å‡­è¯
git config --global credential.helper store

# æˆ–ä½¿ç”¨ SSH
skills.json ä¸­ä½¿ç”¨ SSH URL
"skill": "git@gitlab-ee.zhenguanyu.com:cortex/skills/private.git@v1.0.0"
```

### Q: Skills ä¹‹é—´æœ‰ä¾èµ–æ€ä¹ˆåŠï¼Ÿ

A: Phase 4 å¯ä»¥æ”¯æŒï¼Œä½†å»ºè®® Skills ä¿æŒç‹¬ç«‹ï¼š
```json
// skill.json
{
  "dependencies": {
    "base-skill": "^1.0.0"
  }
}
```

### Q: å¦‚ä½•ä¿è¯å›¢é˜Ÿä¸€è‡´æ€§ï¼Ÿ

A: 
1. `skills.lock` é”å®šç²¾ç¡®ç‰ˆæœ¬
2. CI ä¸­è¿è¡Œ `skills install` éªŒè¯
3. æäº¤ `skills.lock` åˆ°ç‰ˆæœ¬æ§åˆ¶

---

## åä¸€ã€é™„å½•

### A. å®Œæ•´ skills.json JSON Schema

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "name": { "type": "string" },
    "version": { "type": "string" },
    "description": { "type": "string" },
    "skills": {
      "type": "object",
      "additionalProperties": { "type": "string" }
    },
    "registries": {
      "type": "object",
      "additionalProperties": { "type": "string" }
    },
    "defaults": {
      "type": "object",
      "properties": {
        "registry": { "type": "string" },
        "installDir": { "type": "string" }
      }
    },
    "overrides": {
      "type": "object"
    }
  },
  "required": ["skills"]
}
```

### B. é”™è¯¯ç å®šä¹‰

| é”™è¯¯ç  | è¯´æ˜ |
|-------|------|
| E001 | skills.json ä¸å­˜åœ¨ |
| E002 | skills.json æ ¼å¼é”™è¯¯ |
| E003 | Skill ä»“åº“ä¸å­˜åœ¨ |
| E004 | ç‰ˆæœ¬/Tag ä¸å­˜åœ¨ |
| E005 | Git æ“ä½œå¤±è´¥ |
| E006 | æƒé™ä¸è¶³ |
| E007 | ç½‘ç»œé”™è¯¯ |

### C. ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|-----|------|-------|
| `SKILLS_CACHE_DIR` | å…¨å±€ç¼“å­˜ç›®å½• | `~/.skills-cache` |
| `SKILLS_REGISTRY` | é»˜è®¤ registry | `github` |
| `SKILLS_TOKEN` | Git è®¿é—®ä»¤ç‰Œ | - |
